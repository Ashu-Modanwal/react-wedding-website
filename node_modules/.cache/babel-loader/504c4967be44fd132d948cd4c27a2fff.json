{"ast":null,"code":"import _classCallCheck from \"/Users/Rossella/Documents/GitHub/a-wedding-website/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Rossella/Documents/GitHub/a-wedding-website/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Rossella/Documents/GitHub/a-wedding-website/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Rossella/Documents/GitHub/a-wedding-website/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Rossella/Documents/GitHub/a-wedding-website/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/Rossella/Documents/GitHub/a-wedding-website/src/components/Router.js\";\nimport React from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport Login from \"./Login/Login\";\nimport NotFound from \"./NotFound/NotFound\";\nimport App from \"../App\";\nimport PrivateRoute from \"./PrivateRoute\";\nimport { firebaseApp } from \"../base\";\n\nvar Router =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Router, _React$Component);\n\n  function Router() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Router);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Router)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      loading: true,\n      authenticated: false,\n      currentUser: null\n    };\n\n    _this.loggingOut = function () {\n      _this.setState({\n        authenticated: false\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Router, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      firebaseApp.auth().onAuthStateChanged(function (user) {\n        if (user) {\n          _this2.setState({\n            authenticated: true,\n            currentUser: user.uid,\n            loading: false\n          });\n        } else {\n          _this2.setState({\n            authenticated: false,\n            currentUser: null,\n            loading: false\n          });\n        }\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      firebaseApp.auth().onAuthStateChanged(function (user) {\n        _this3.setState({\n          user: null\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          authenticated = _this$state.authenticated,\n          loading = _this$state.loading;\n\n      if (loading) {\n        return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, \"Loading..\");\n      }\n\n      return React.createElement(BrowserRouter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        component: Login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }), React.createElement(PrivateRoute, {\n        path: \"/user/:userId\",\n        authenticated: authenticated,\n        component: App,\n        loggingOut: this.loggingOut,\n        user: this.state.currentUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }), React.createElement(Route, {\n        component: NotFound,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Router;\n}(React.Component);\n\nexport default Router;","map":{"version":3,"sources":["/Users/Rossella/Documents/GitHub/a-wedding-website/src/components/Router.js"],"names":["React","BrowserRouter","Route","Switch","Login","NotFound","App","PrivateRoute","firebaseApp","Router","state","loading","authenticated","currentUser","loggingOut","setState","auth","onAuthStateChanged","user","uid","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,EAAwBC,KAAxB,EAA+BC,MAA/B,QAA6C,kBAA7C;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,OAAOC,GAAP,MAAgB,QAAhB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,SAASC,WAAT,QAA4B,SAA5B;;IAEMC,M;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,OAAO,EAAE,IADH;AAENC,MAAAA,aAAa,EAAE,KAFT;AAGNC,MAAAA,WAAW,EAAE;AAHP,K;;UA8BRC,U,GAAa,YAAM;AACjB,YAAKC,QAAL,CAAc;AAAEH,QAAAA,aAAa,EAAE;AAAjB,OAAd;AACD,K;;;;;;;yCA1BoB;AAAA;;AACnBJ,MAAAA,WAAW,CAACQ,IAAZ,GAAmBC,kBAAnB,CAAsC,UAAAC,IAAI,EAAI;AAC5C,YAAIA,IAAJ,EAAU;AACR,UAAA,MAAI,CAACH,QAAL,CAAc;AACZH,YAAAA,aAAa,EAAE,IADH;AAEZC,YAAAA,WAAW,EAAEK,IAAI,CAACC,GAFN;AAGZR,YAAAA,OAAO,EAAE;AAHG,WAAd;AAKD,SAND,MAMO;AACL,UAAA,MAAI,CAACI,QAAL,CAAc;AACZH,YAAAA,aAAa,EAAE,KADH;AAEZC,YAAAA,WAAW,EAAE,IAFD;AAGZF,YAAAA,OAAO,EAAE;AAHG,WAAd;AAKD;AACF,OAdD;AAeD;;;wCAEmB;AAAA;;AAClBH,MAAAA,WAAW,CAACQ,IAAZ,GAAmBC,kBAAnB,CAAsC,UAAAC,IAAI,EAAI;AAC5C,QAAA,MAAI,CAACH,QAAL,CAAc;AAAEG,UAAAA,IAAI,EAAE;AAAR,SAAd;AACD,OAFD;AAGD;;;6BAMQ;AAAA,wBAC4B,KAAKR,KADjC;AAAA,UACCE,aADD,eACCA,aADD;AAAA,UACgBD,OADhB,eACgBA,OADhB;;AAEP,UAAIA,OAAJ,EAAa;AACX,eAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAP;AACD;;AACD,aACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,GAAlB;AAAsB,QAAA,SAAS,EAAEP,KAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,YAAD;AACE,QAAA,IAAI,EAAC,eADP;AAEE,QAAA,aAAa,EAAEQ,aAFjB;AAGE,QAAA,SAAS,EAAEN,GAHb;AAIE,QAAA,UAAU,EAAE,KAAKQ,UAJnB;AAKE,QAAA,IAAI,EAAE,KAAKJ,KAAL,CAAWG,WALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EASE,oBAAC,KAAD;AAAO,QAAA,SAAS,EAAER,QAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATF,CADF,CADF;AAeD;;;;EAvDkBL,KAAK,CAACoB,S;;AA0D3B,eAAeX,MAAf","sourcesContent":["import React from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport Login from \"./Login/Login\";\nimport NotFound from \"./NotFound/NotFound\";\nimport App from \"../App\";\nimport PrivateRoute from \"./PrivateRoute\";\nimport { firebaseApp } from \"../base\";\n\nclass Router extends React.Component {\n  state = {\n    loading: true,\n    authenticated: false,\n    currentUser: null\n  };\n\n  componentWillMount() {\n    firebaseApp.auth().onAuthStateChanged(user => {\n      if (user) {\n        this.setState({\n          authenticated: true,\n          currentUser: user.uid,\n          loading: false\n        });\n      } else {\n        this.setState({\n          authenticated: false,\n          currentUser: null,\n          loading: false\n        });\n      }\n    });\n  }\n\n  componentDidMount() {\n    firebaseApp.auth().onAuthStateChanged(user => {\n      this.setState({ user: null });\n    });\n  }\n\n  loggingOut = () => {\n    this.setState({ authenticated: false });\n  };\n\n  render() {\n    const { authenticated, loading } = this.state;\n    if (loading) {\n      return <p>Loading..</p>;\n    }\n    return (\n      <BrowserRouter>\n        <Switch>\n          <Route exact path=\"/\" component={Login} />\n          <PrivateRoute\n            path=\"/user/:userId\"\n            authenticated={authenticated}\n            component={App}\n            loggingOut={this.loggingOut}\n            user={this.state.currentUser}\n          />\n          <Route component={NotFound} />\n        </Switch>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default Router;\n"]},"metadata":{},"sourceType":"module"}
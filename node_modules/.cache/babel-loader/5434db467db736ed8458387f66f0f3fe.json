{"ast":null,"code":"import _classCallCheck from \"/Users/Rossella/Documents/GitHub/a-wedding-website/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Rossella/Documents/GitHub/a-wedding-website/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Rossella/Documents/GitHub/a-wedding-website/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Rossella/Documents/GitHub/a-wedding-website/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Rossella/Documents/GitHub/a-wedding-website/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/Rossella/Documents/GitHub/a-wedding-website/src/components/Router.js\";\nimport React from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport Login from \"./Login/Login\";\nimport NotFound from \"./NotFound/NotFound\";\nimport App from \"../App\";\nimport PrivateRoute from \"./PrivateRoute\";\nimport { firebaseApp } from \"../base\";\nimport { translate, Trans } from \"react-i18next\";\nimport i18next from \"i18next\";\nimport LngDetector from \"i18next-browser-languagedetector\";\ni18next.use(LngDetector).init({\n  detection: options\n});\n\nvar Router =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Router, _React$Component);\n\n  function Router() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Router);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Router)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      loading: true,\n      authenticated: false,\n      currentUser: null,\n      language: \"\"\n    };\n\n    _this.selectLanguage = function (language) {\n      _this.setState({\n        language: language\n      });\n    };\n\n    _this.loggingOut = function () {\n      _this.setState({\n        authenticated: false\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Router, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      firebaseApp.auth().onAuthStateChanged(function (user) {\n        if (user) {\n          _this2.setState({\n            authenticated: true,\n            currentUser: user.uid,\n            loading: false\n          });\n        } else {\n          _this2.setState({\n            authenticated: false,\n            currentUser: null,\n            loading: false\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          authenticated = _this$state.authenticated,\n          loading = _this$state.loading;\n\n      if (loading) {\n        return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, \"Loading..\");\n      }\n\n      return React.createElement(BrowserRouter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(Route, {\n        selectLanguage: this.selectLanguage,\n        xact: true,\n        path: \"/\",\n        component: Login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(PrivateRoute, {\n        selectLanguage: this.selectLanguage,\n        path: \"/user/:userId\",\n        authenticated: authenticated,\n        component: App,\n        loggingOut: this.loggingOut,\n        user: this.state.currentUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), React.createElement(Route, {\n        component: NotFound,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Router;\n}(React.Component);\n\nexport default translate(\"common\")(Router);","map":{"version":3,"sources":["/Users/Rossella/Documents/GitHub/a-wedding-website/src/components/Router.js"],"names":["React","BrowserRouter","Route","Switch","Login","NotFound","App","PrivateRoute","firebaseApp","translate","Trans","i18next","LngDetector","use","init","detection","options","Router","state","loading","authenticated","currentUser","language","selectLanguage","setState","loggingOut","auth","onAuthStateChanged","user","uid","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,EAAwBC,KAAxB,EAA+BC,MAA/B,QAA6C,kBAA7C;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,OAAOC,GAAP,MAAgB,QAAhB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,SAASC,WAAT,QAA4B,SAA5B;AACA,SAASC,SAAT,EAAoBC,KAApB,QAAiC,eAAjC;AACA,OAAOC,OAAP,MAAoB,SAApB;AACA,OAAOC,WAAP,MAAwB,kCAAxB;AAEAD,OAAO,CAACE,GAAR,CAAYD,WAAZ,EAAyBE,IAAzB,CAA8B;AAC5BC,EAAAA,SAAS,EAAEC;AADiB,CAA9B;;IAIMC,M;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,OAAO,EAAE,IADH;AAENC,MAAAA,aAAa,EAAE,KAFT;AAGNC,MAAAA,WAAW,EAAE,IAHP;AAINC,MAAAA,QAAQ,EAAE;AAJJ,K;;UAyBRC,c,GAAiB,UAAAD,QAAQ,EAAI;AAC3B,YAAKE,QAAL,CAAc;AAAEF,QAAAA,QAAQ,EAAEA;AAAZ,OAAd;AACD,K;;UAEDG,U,GAAa,YAAM;AACjB,YAAKD,QAAL,CAAc;AAAEJ,QAAAA,aAAa,EAAE;AAAjB,OAAd;AACD,K;;;;;;;yCAxBoB;AAAA;;AACnBZ,MAAAA,WAAW,CAACkB,IAAZ,GAAmBC,kBAAnB,CAAsC,UAAAC,IAAI,EAAI;AAC5C,YAAIA,IAAJ,EAAU;AACR,UAAA,MAAI,CAACJ,QAAL,CAAc;AACZJ,YAAAA,aAAa,EAAE,IADH;AAEZC,YAAAA,WAAW,EAAEO,IAAI,CAACC,GAFN;AAGZV,YAAAA,OAAO,EAAE;AAHG,WAAd;AAKD,SAND,MAMO;AACL,UAAA,MAAI,CAACK,QAAL,CAAc;AACZJ,YAAAA,aAAa,EAAE,KADH;AAEZC,YAAAA,WAAW,EAAE,IAFD;AAGZF,YAAAA,OAAO,EAAE;AAHG,WAAd;AAKD;AACF,OAdD;AAeD;;;6BAUQ;AAAA,wBAC4B,KAAKD,KADjC;AAAA,UACCE,aADD,eACCA,aADD;AAAA,UACgBD,OADhB,eACgBA,OADhB;;AAEP,UAAIA,OAAJ,EAAa;AACX,eAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAP;AACD;;AACD,aACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AACE,QAAA,cAAc,EAAE,KAAKI,cADvB;AAEE,QAAA,IAAI,MAFN;AAGE,QAAA,IAAI,EAAC,GAHP;AAIE,QAAA,SAAS,EAAEnB,KAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAOE,oBAAC,YAAD;AACE,QAAA,cAAc,EAAE,KAAKmB,cADvB;AAEE,QAAA,IAAI,EAAC,eAFP;AAGE,QAAA,aAAa,EAAEH,aAHjB;AAIE,QAAA,SAAS,EAAEd,GAJb;AAKE,QAAA,UAAU,EAAE,KAAKmB,UALnB;AAME,QAAA,IAAI,EAAE,KAAKP,KAAL,CAAWG,WANnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPF,EAeE,oBAAC,KAAD;AAAO,QAAA,SAAS,EAAEhB,QAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAfF,CADF,CADF;AAqBD;;;;EA5DkBL,KAAK,CAAC8B,S;;AA+D3B,eAAerB,SAAS,CAAC,QAAD,CAAT,CAAoBQ,MAApB,CAAf","sourcesContent":["import React from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport Login from \"./Login/Login\";\nimport NotFound from \"./NotFound/NotFound\";\nimport App from \"../App\";\nimport PrivateRoute from \"./PrivateRoute\";\nimport { firebaseApp } from \"../base\";\nimport { translate, Trans } from \"react-i18next\";\nimport i18next from \"i18next\";\nimport LngDetector from \"i18next-browser-languagedetector\";\n\ni18next.use(LngDetector).init({\n  detection: options\n});\n\nclass Router extends React.Component {\n  state = {\n    loading: true,\n    authenticated: false,\n    currentUser: null,\n    language: \"\"\n  };\n\n  componentWillMount() {\n    firebaseApp.auth().onAuthStateChanged(user => {\n      if (user) {\n        this.setState({\n          authenticated: true,\n          currentUser: user.uid,\n          loading: false\n        });\n      } else {\n        this.setState({\n          authenticated: false,\n          currentUser: null,\n          loading: false\n        });\n      }\n    });\n  }\n\n  selectLanguage = language => {\n    this.setState({ language: language });\n  };\n\n  loggingOut = () => {\n    this.setState({ authenticated: false });\n  };\n\n  render() {\n    const { authenticated, loading } = this.state;\n    if (loading) {\n      return <p>Loading..</p>;\n    }\n    return (\n      <BrowserRouter>\n        <Switch>\n          <Route\n            selectLanguage={this.selectLanguage}\n            xact\n            path=\"/\"\n            component={Login}\n          />\n          <PrivateRoute\n            selectLanguage={this.selectLanguage}\n            path=\"/user/:userId\"\n            authenticated={authenticated}\n            component={App}\n            loggingOut={this.loggingOut}\n            user={this.state.currentUser}\n          />\n          <Route component={NotFound} />\n        </Switch>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default translate(\"common\")(Router);\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from \"/Users/Rossella/Documents/GitHub/a-wedding-website/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Rossella/Documents/GitHub/a-wedding-website/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Rossella/Documents/GitHub/a-wedding-website/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Rossella/Documents/GitHub/a-wedding-website/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Rossella/Documents/GitHub/a-wedding-website/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/Rossella/Documents/GitHub/a-wedding-website/src/components/LoginFirebase/LoginFirebase.js\";\nimport React from \"react\";\nimport \"../Login/Login.css\";\nimport firebase from \"firebase\";\nimport base, { firebaseApp } from \"../../base\";\n\nvar LoginFirebase =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(LoginFirebase, _React$Component);\n\n  function LoginFirebase() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, LoginFirebase);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(LoginFirebase)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      authenticated: false\n    };\n\n    _this.authWithEmailPassword = function (event) {\n      event.preventDefault();\n      console.table([{\n        email: _this.myEmailInput.current.value,\n        password: _this.myPasswordInput.current.value,\n        username: _this.myUsernameInput.current.value\n      }]);\n    };\n\n    _this.myUsernameInput = React.createRef();\n    _this.myEmailInput = React.createRef();\n    _this.myPasswordInput = React.createRef();\n\n    _this.goToUser = function (e) {\n      e.preventDefault();\n      var username = _this.myUsernameInput.current.value;\n\n      if (_this.state.authenticated === true) {\n        _this.props.history.push(\"/user/\".concat(username));\n      } else {\n        alert(\"Please enter your username and password to login\");\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(LoginFirebase, [{\n    key: \"render\",\n    // handleChange = e => {\n    //   this.setState({ [e.target.name]: e.target.value });\n    // };\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"loginContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: function onSubmit(event) {\n          _this2.authWithEmailPassword(event);\n        },\n        ref: function ref(form) {\n          _this2.loginForm = form;\n        },\n        className: \"login-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"Accedi al sito del nostro matrimonio con i dati ricevuti via mail.\"), React.createElement(\"div\", {\n        id: \"inputFields\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        onChange: this.handleChange,\n        name: \"username\",\n        type: \"text\",\n        ref: this.myUsernameInput,\n        required: true,\n        placeholder: \"Username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        name: \"email\",\n        type: \"email\",\n        placeholder: \"Email address\",\n        ref: this.myEmailInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        onChange: this.handleChange,\n        name: \"password\",\n        type: \"password\",\n        placeholder: \"Password\",\n        ref: this.myPasswordInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"Non ricordi i dati di accesso? Scrivici un messaggio\", \" \", React.createElement(\"a\", {\n        href: \"mailto: ross.ferrandino@gmail.com\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \" qui\"), \".\"), React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"Accedi al sito \\u2192 \"), React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"Registrati \\u2192\")));\n    }\n  }]);\n\n  return LoginFirebase;\n}(React.Component);\n\nexport default LoginFirebase;","map":{"version":3,"sources":["/Users/Rossella/Documents/GitHub/a-wedding-website/src/components/LoginFirebase/LoginFirebase.js"],"names":["React","firebase","base","firebaseApp","LoginFirebase","state","authenticated","authWithEmailPassword","event","preventDefault","console","table","email","myEmailInput","current","value","password","myPasswordInput","username","myUsernameInput","createRef","goToUser","e","props","history","push","alert","form","loginForm","handleChange","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"../Login/Login.css\";\nimport firebase from \"firebase\";\nimport base, { firebaseApp } from \"../../base\";\n\nclass LoginFirebase extends React.Component {\n  state = {\n    authenticated: false\n  };\n\n  authWithEmailPassword = event => {\n    event.preventDefault();\n    console.table([\n      {\n        email: this.myEmailInput.current.value,\n        password: this.myPasswordInput.current.value,\n        username: this.myUsernameInput.current.value\n      }\n    ]);\n  };\n  // login = e => {\n  //   e.preventDefault();\n  //   base\n  //     .auth()\n  //     .signInWithEmailAndPassword(this.state.email, this.state.password)\n  //     .then(u => {})\n  //     .catch(error => {\n  //       console.log(error);\n  //     });\n  // };\n\n  // createNewAccount = (email, password) => {\n  //   base\n  //     .auth()\n  //     .createUserWithEmailAndPassword(email, password)\n  //     .catch(function(error) {\n  //       // Handle Errors here.\n  //       var errorCode = error.code;\n  //       var errorMessage = error.message;\n  //       // ...\n  //     });\n  //   this.setState({ email, password });\n  // };\n\n  // authListener = () => {\n  //   base.auth().onAuthStateChanged(user => {\n  //     // console.log(user);\n  //     if (user) {\n  //       this.setState({ user });\n  //       // localStorage.setItem(\"user\", user.uid);\n  //     } else {\n  //       this.setState({ user: null });\n  //       // localStorage.removeItem(\"user\");\n  //     }\n  //   });\n  // };\n  //\n  // componentDidMount() {\n  //   this.authListener();\n  // }\n\n  myUsernameInput = React.createRef();\n  myEmailInput = React.createRef();\n  myPasswordInput = React.createRef();\n\n  //if the user is authenticated, run this method\n  goToUser = e => {\n    e.preventDefault();\n    const username = this.myUsernameInput.current.value;\n    if (this.state.authenticated === true) {\n      this.props.history.push(`/user/${username}`);\n    } else {\n      alert(\"Please enter your username and password to login\");\n    }\n  };\n\n  // handleChange = e => {\n  //   this.setState({ [e.target.name]: e.target.value });\n  // };\n\n  render() {\n    return (\n      <div className=\"loginContainer\">\n        <form\n          onSubmit={event => {\n            this.authWithEmailPassword(event);\n          }}\n          ref={form => {\n            this.loginForm = form;\n          }}\n          className=\"login-form\"\n        >\n          <p>\n            Accedi al sito del nostro matrimonio con i dati ricevuti via mail.\n          </p>\n          <div id=\"inputFields\">\n            <input\n              onChange={this.handleChange}\n              name=\"username\"\n              type=\"text\"\n              ref={this.myUsernameInput}\n              required\n              placeholder=\"Username\"\n            />\n\n            <input\n              name=\"email\"\n              type=\"email\"\n              placeholder=\"Email address\"\n              ref={this.myEmailInput}\n            />\n            <input\n              onChange={this.handleChange}\n              name=\"password\"\n              type=\"password\"\n              placeholder=\"Password\"\n              ref={this.myPasswordInput}\n            />\n          </div>\n          <p>\n            Non ricordi i dati di accesso? Scrivici un messaggio{\" \"}\n            <a href=\"mailto: ross.ferrandino@gmail.com\"> qui</a>.\n          </p>\n          <button type=\"submit\">Accedi al sito → </button>\n          <button type=\"submit\">Registrati →</button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default LoginFirebase;\n"]},"metadata":{},"sourceType":"module"}